<link rel="stylesheet" href="../widgets/signature/signature.css">
<script src="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js"></script>

<div id="signature-pad" class="signature-pad">
  <div class="signature-pad--body">
    <canvas></canvas>
  </div>
  <div class="signature-pad--footer">
    <div class="description">Sign above</div>

    <div class="signature-pad--actions">
      <div>
        <button type="button" class="button clear" data-action="clear">Clear</button>
        <button type="button" class="button send" id="send" data-action="send">Send</button>

        {{!-- <button type="button" class="button" data-action="change-color">Change color</button>
        <button type="button" class="button" data-action="undo">Undo</button> --}}

      </div>
      {{!-- <div>
        <button type="button" class="button save" data-action="save-png">Save as PNG</button>
        <button type="button" class="button save" data-action="save-jpg">Save as JPG</button>
        <button type="button" class="button save" data-action="save-svg">Save as SVG</button>
      </div> --}}
    </div>
  </div>
</div>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="../widgets/signature/signature.js"></script>
<script>
  $("#send").click(function () {
    var deliveringUserId = 1; //localStorage.getItem('deliveringUserID');
    var receivingUserId = 2; //localStorage.getItem('receivingUserID');
    var deliveringUserEmail = 'prueba1@prueba.com';
    var receivingUserEmail = 'prueba2@prueba.com';
    var thesignature = 0;
    var newOrder = {
      deliveringUserId: deliveringUserId,
      deliveringUserEmail: deliveringUserEmail,
      receivingUserId: receivingUserId,
      receivingUserEmail: receivingUserEmail,
      signature: thesignature
    }
    $.post("/api/orders", newOrder)
      .then(function (data) {
        console.log(data);
        alert("Order Registered...");
      });
    localStorage.clear();
  });
</script>